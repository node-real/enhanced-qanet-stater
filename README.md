# enhandec-qanet-starter

This script can help you quickly deploy enhanced-api in the layer2 test environment, and this script can be run on the local machine

# Preparation before use

Before use, please make sure that your environment has Python dependencies installed and the chain environment is ready.

## Something about python
I recommend you to use python3, but usually the python environment of mac machine is confusing. You can use python virtual environment
, like this: 

python3 -m venv .venv

source .venv/bin/activate

## Something about chain deployment
It is recommended to use welkin's script deployment for the chain environment, which is highly recommended.

https://github.com/node-real/opbnb-qanet-starter

# Usage

## .env.example

L1_RPC_URL: Represents the rpc url of the l1 chain.

QANET_NAME: The address of the newly deployed l2 chain.

ENHANCED_TAG: Enhanced-api software version

DB_NAME: It needs to be created in advance. The database instance is this: tf-nodereal-qa-bsc-l2-opt-chaindb

Then modify .env.example to .env.

## opbnb/addresses.json

The addresses.json generated by layer2 is placed here, each time the chain is deployed, an addresses.json will be generated. You can ask your colleagues who deployed the chain.

## qa_new.sh
You can execute this script directly and it will generate a PR to help you deploy the enhanced-api service.

The PR link will be printed in the output of the script, like this:

https://github.com/node-real/nodereal-app/pull/new/opbnb-new-qanet-opbnb-qanet-kerwinv2-70

You can access enhanced-api using this url: https://${qanet_name}.bk.nodereal.cc.

Where: ${qanet_name} is the name of layer2 you configured in env

## qa_drop.sh
This script will help you release all pod resources.

The PR that releases the resource will also be printed in the output of the script, like this:

https://github.com/node-real/nodereal-app/pull/new/drop-opbnb-qanet-opbnb-qanet-kerwinv2-26183


# Notice

It is recommended that you review every generated script, as each script will have an impact on the QA environment.
